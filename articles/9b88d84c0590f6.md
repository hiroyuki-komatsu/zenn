---
title: "2022 å¹´10æœˆä»¥é™ã® Mozc ã«å¯¾ã™ã‚‹ä¸»ãªå¤‰æ›´"
emoji: "ğŸŸ "
type: "tech"
topics:
  - "linux"
  - "windows"
  - "keyboard"
  - "ime"
  - "mozc"
published: true
published_at: "2023-10-10 21:25"
---

åˆç¨¿: 2023-10-10

2022 å¹´ 10 æœˆä»¥é™ã® Mozc ã«å¯¾ã™ã‚‹ä¸»ãªå¤‰æ›´ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã€ Issues ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚’ã¾ã¨ã‚ãŸã ã‘ã§æ–°ã—ã„æƒ…å ±ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æŠœã‘ã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã‚Œã°å¾Œã§è¿½è¨˜ã—ã¾ã™ã€‚

Mozc ã®å•é¡Œã®å ±å‘Šã‚„æ©Ÿèƒ½ã®è¦æœ›ç­‰ã¯ã€GitHub ã® [Issues](https://github.com/google/mozc/issues) ã‚„ [Discussions](https://github.com/google/mozc/discussions) ã¸ãŠé¡˜ã„ã—ã¾ã™ã€‚

å‰å›:  [2021 å¹´ä»¥é™ã® Mozc ã«å¯¾ã™ã‚‹ä¸»ãªå¤‰æ›´](https://zenn.dev/komatsuh/articles/9821ea8be015f0)


## ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³

* 2.29.5250
* 3 ã¤ã‚ã®æ•°å­— (5250) ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’ã¤ã‘å§‹ã‚ã¦ã‹ã‚‰ã®çµŒéæ—¥æ•°
* å‚è€ƒ: Google æ—¥æœ¬èªå…¥åŠ›ã¯ 2.29.5050


## çµ±è¨ˆæƒ…å ±

#### 2022-10-11 - 2023-10-10

* ã‚³ãƒŸãƒƒãƒˆæ•°: 1,554
* ã‚¯ãƒ­ãƒ¼ã‚ºã—ãŸ issue ã®æ•°: 161 ([Issues Â· google/mozc](https://github.com/google/mozc/issues?q=is%3Aissue+is%3Aclosed++closed%3A2022-10-10..2023-10-10))
* ãƒãƒ¼ã‚¸ã—ãŸãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°: 9 ([Pull requests Â· google/mozc](https://github.com/google/mozc/pulls?q=is%3Apr+is%3Amerged+updated%3A2022-10-10..2023-10-10+))

#### ç´¯è¨ˆ

* ã‚³ãƒŸãƒƒãƒˆæ•°: 3,348
* ã‚¯ãƒ­ãƒ¼ã‚ºã—ãŸ issue ã®æ•°: 633
* ãƒãƒ¼ã‚¸ã—ãŸãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°: 51


## ä¸»è¦ãªå¤‰æ›´ç‚¹



* PR (pull request) å—ã‘å…¥ã‚Œç¯„å›²ã®æ‹¡å¤§
* GitHub Actions ã‹ã‚‰ãƒ“ãƒ«ãƒ‰ç”Ÿæˆç‰©ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯èƒ½ã«
* Windows ã®å¯¾å¿œãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 8.1 ã‹ã‚‰ 10 ä»¥é™ã¸å¤‰æ›´
* macOS ã®å¯¾å¿œãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 10.12 ã‹ã‚‰ 11.0 ä»¥é™ã¸å¤‰æ›´
* Bazel ã«ã‚ˆã‚‹ãƒ“ãƒ«ãƒ‰ã®æ‹¡å……
* Qt ã®å¯¾å¿œãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 5 ã‹ã‚‰ 6 ã¸å¤‰æ›´


## PR ã®å—ã‘å…¥ã‚Œç¯„å›²ã®æ‹¡å¤§

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«å¯¾ã™ã‚‹ PR ã‚’å—ã‘å…¥ã‚Œã‚‰ã‚Œã‚‹ã‚ˆã†ã«å¤‰æ›´



* Linux, macOS, Windows ã®å„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
* å€™è£œã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ãŠã‚ˆã³ GUI ãƒ„ãƒ¼ãƒ«
* å„ç¨®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ« 

è©³ç´°



* [mozc/CONTRIBUTING.md at master Â· google/mozc](https://github.com/google/mozc/blob/master/CONTRIBUTING.md)


## å…¥åŠ›é–¢é€£

**è¾æ›¸ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°**

* [Update data/dictionary_oss Â· google/mozc@815305b](https://github.com/google/mozc/commit/815305ba2386094d567022b38fe33094d6d016af)


**Issues ã«å ±å‘Šã•ã‚ŒãŸå…¥åŠ›é–¢é€£ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«å¯¾å¿œ**

* [Issues Â· google/mozc](https://github.com/google/mozc/issues?q=is%3Aissue+is%3Aclosed+typing+issue)


**ã€Œã‹ã£ã“ã€ã§å…¥åŠ›ã§ãã‚‹ãƒšã‚¢ã®è¿½åŠ **

* [Pair conversion doesn't work for some brackets. Â· Issue #688 Â· google/mozc](https://github.com/google/mozc/issues/688)


**è‹±æ•°æ–‡å­—å¹…ã‚’åŠè§’ã«è¨­å®šã—ã¦ã„ã‚‹ã¨ã€ãƒ­ãƒ¼ãƒå­—å¤‰æ›ãŒä¸€éƒ¨å‹•ä½œã—ãªã„å•é¡Œã¸ã®å¯¾å¿œ**

* [Typing `nym` causes the `ny` to disappear. Â· Issue #738 Â· google/mozc](https://github.com/google/mozc/issues/738)


**ãƒ­ãƒ¼ãƒå­—å¤‰æ›ã®ãƒ­ã‚¸ãƒƒã‚¯ã®æ‹¡å¼µ**

* [Keyboard Input Hackathon 2023 ã§ Mozc ã®å®Ÿé¨“çš„æ©Ÿèƒ½ã‚’ä½œã‚Šã¾ã—ãŸ](https://zenn.dev/komatsuh/articles/f3be1b8890fce6#%E8%A6%AA%E6%8C%87%E3%82%B7%E3%83%95%E3%83%88%E5%85%A5%E5%8A%9B-%EF%BC%88nicola-%E9%85%8D%E5%88%97%EF%BC%89-%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E8%A8%AD%E5%AE%9A)


## Linux é–¢é€£

**Bazel ã® Linux ãƒ“ãƒ«ãƒ‰ã§ mozc.zip ã®ä½œæˆ**

* å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸€å¼ä½œæˆ
* [mozc/docs/build_mozc_in_docker.md at master Â· google/mozc](https://github.com/google/mozc/blob/master/docs/build_mozc_in_docker.md#build-mozc-for-linux-desktop-with-gyp-maintenance-mode)


**IBus ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã€Wayland ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã®å€™è£œã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã®å®Ÿè£…ã‚’é¸æŠã«å¯¾å¿œ**

* ç’°å¢ƒå¤‰æ•° MOZC_IBUS_CANDIDATE_WINDOW ãŒ ibus ã®å ´åˆ
    * IBus ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ç”¨
* X ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å ´åˆ
    * Mozc ã®å€™è£œã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã‚’ä½¿ç”¨
* Wayland ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å ´åˆ
    * ibus_config.textproto ã® compatible_wayland_desktop_names ã®è¨­å®šã«ã‚ˆã‚‹
        * ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ç’°å¢ƒå¤‰æ•° XDG_CURRENT_DESKTOP ã®å€¤ãŒ "GNOME" ã®å ´åˆã®ã¿ã€Mozc ã®å€™è£œã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã‚’ä½¿ç”¨ã™ã‚‹
        * [Consider using `ibus_config.textproto` instead of environment variables such as `MOZC_IBUS_CANDIDATE_WINDOW` Â· Issue #795 Â· google/mozc](https://github.com/google/mozc/issues/795)
    * ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹ QT_QPA_PLATFORM ã®è¨­å®šã¯ä¸è¦ã«
        * [Fix #794: Let Qt mozc_renderer always use X11 protocol Â· google/mozc@f8b2358](https://github.com/google/mozc/commit/f8b2358b171b0baf095b53ad2c828fc647901d2e)


**IBus ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ä½¿ç”¨ã™ã‚‹ç’°å¢ƒå¤‰æ•°ã®è¿½åŠ å¤‰æ›´**

* WAYLAND_DISPLAY: wayland ã‹ã©ã†ã‹ã®åˆ¤å®š (ä»¥å‰ã¯ XDG_SESSION_TYPE ã‚’ä½¿ç”¨)
    * [Use `WAYLAND_DISPLAY` instead of nonstandard `XDG_SESSION_TYPE` Â· Issue #797 Â· google/mozc](https://github.com/google/mozc/issues/797)


**IBus ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å…¥åŠ›æ–¹æ³•ã‚’ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰é¸æŠå¯èƒ½ã«**

* [mozc/docs/configurations.md at master Â· google/mozc](https://github.com/google/mozc/blob/master/docs/configurations.md#fixed-composition-mode-per-engine)
* [Add a field for the composition mode to ibus_config. Â· google/mozc@96e8c87](https://github.com/google/mozc/commit/96e8c8782bfe2cce96d775b525909d9202e120d7)

![](https://storage.googleapis.com/zenn-user-upload/1fde03281ea2-20231010.png)

**Linux ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’ clang ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«å¤‰æ›´**

* [Use system-default compiler in Linux CI Â· Issue #803 Â· google/mozc](https://github.com/google/mozc/issues/803)


**Linux ã§ã® GYP ãƒ“ãƒ«ãƒ‰ã®å¯¾å¿œç¯„å›²ã®å¤‰æ›´**

* ä»£æ›¿ã¯ Bazel ã«ã‚ˆã‚‹ãƒ“ãƒ«ãƒ‰
* IBus ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã® GYP ã«ã‚ˆã‚‹ãƒ“ãƒ«ãƒ‰ã‚’å‰Šé™¤


**GTK ã«ã‚ˆã‚‹å€™è£œã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã®ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤**

* ä»£æ›¿ã¯ Qt ã«ã‚ˆã‚‹å€™è£œã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦
* ã“ã‚Œã¾ã§ã®ãƒ“ãƒ«ãƒ‰è¨­å®šã‹ã‚‰ã®å‰Šé™¤ã«ãã‚ãˆã¦ã€ã‚³ãƒ¼ãƒ‰è‡ªä½“ã‚‚å‰Šé™¤


**IBus å®Ÿè£…ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**

* C++ ç”¨ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆ
    * `ibus_engine_show_lookup_table(engine_ptr)` â†’ `engine_wrapper.ShowLookupTable()`


**Bazel ã® Linux ãƒ“ãƒ«ãƒ‰ã§ ANDROID_NDK_HOME ã®è¨­å®šã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä¸è¦ã«**

* [Enable to run Bazel with empty ANDROID_NDK_HOME. Â· google/mozc@684bbce](https://github.com/google/mozc/commit/684bbce457486028a2464e5695c3ea251c9d5cd9)


**Emacs ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**

* Lint ã‚¨ãƒ©ãƒ¼ã®æ”¹å–„ã€æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸ã®å¯¾å¿œ


## Windows é–¢é€£

**ã‚¢ã‚¤ã‚³ãƒ³ã®æ›´æ–°**

* [Mozc icon is jaggy in Windows 11 Â· Issue #636 Â· google/mozc](https://github.com/google/mozc/issues/636)


**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã®è¿½åŠ **

* [Make it possible to build installers for Windows Â· Issue #728 Â· google/mozc](https://github.com/google/mozc/issues/728)


**32 bit ãƒ“ãƒ«ãƒ‰ã®ã‚µãƒãƒ¼ãƒˆã‚’çµ‚äº†**

* [Stop supporting 32-bit edition of Windows Â· Issue #752 Â· google/mozc](https://github.com/google/mozc/issues/752)


**Windows 7, 8 ç”¨ã®ã‚³ãƒ¼ãƒ‰ã®å‰Šé™¤**

* [Remove support for older Windows than Windows 10 Â· google/mozc@5c18028](https://github.com/google/mozc/commit/5c1802875f1119b0f5624077fa646a2b6ff5707b)


**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’ MSVC 2022 ã¸**

* ã“ã‚Œã¾ã§ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ MSVC 2017


**Windows ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 5.0 ã¸**

* [Bump minimum Windows Installer version to 5.0 Â· google/mozc@0ee447e](https://github.com/google/mozc/commit/0ee447e2f0513409921d96c646d0c090723da81f)


**WIL ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ´»ç”¨**

* [Import Windows Implementation Library Â· Issue #726 Â· google/mozc](https://github.com/google/mozc/issues/726)
* RAII ã«ã‚ˆã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç®¡ç†


**IMM32 ç”¨ã‚³ãƒ¼ãƒ‰ã®å‰Šé™¤**

* Windows 10 ä»¥é™ã®ã¿ã®å¯¾å¿œã¨ãªã‚‹ãŸã‚


## macOS é–¢é€£

**ãƒ“ãƒ«ãƒ‰ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’ 11.0 ä»¥é™ã¸**

**ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒã‚¤ãƒŠãƒªã€Apple Silicon ãƒã‚¤ãƒŠãƒªã®ãƒ“ãƒ«ãƒ‰ã«å¯¾å¿œ**

* GitHub Actions ã§ã‚‚ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯èƒ½
* [Support universal binary for macOS Â· Issue #801 Â· google/mozc](https://github.com/google/mozc/issues/801)


## ãƒ“ãƒ«ãƒ‰é–¢é€£

**GitHub Actions ã‹ã‚‰ãƒ“ãƒ«ãƒ‰ç”Ÿæˆç‰©ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯èƒ½ã«**

* [Consider uploading installers as artifacts from GitHub build actions Â· Issue #730 Â· google/mozc](https://github.com/google/mozc/issues/730)

![](https://storage.googleapis.com/zenn-user-upload/b9ed5efee638-20231010.png)

**Qt 6 ã¸ã®ç§»è¡Œ**

* [Switch to Qt6 Â· Issue #775 Â· google/mozc](https://github.com/google/mozc/issues/775)


**jsoncpp ã¸ã®ä¾å­˜ã®å‰Šé™¤**

* ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã—ãŸãŸã‚


## ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°é–¢é€£

**Bazel ç”¨ãƒ“ãƒ«ãƒ‰ãƒã‚¯ãƒ­ã®å‘½åè¦å‰‡ã®å¤‰æ›´**

* cc_libraray_mozc â†’ mozc_cc_library
* [Notice: Build macros for Bazel will be changed Â· Issue #679 Â· google/mozc](https://github.com/google/mozc/issues/679)


**Abseil ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ´»ç”¨**

* const std::string& ã‹ã‚‰ absl::string_view ã¸ã®å¤‰æ›´
* absl::Str*, absl::flat_hash_*, absl::Span, absl::Time, ABSL_MUST_USE_RESULT ãªã©ã®æ´»ç”¨
* Mozc ç‹¬è‡ªã®å®Ÿè£…ã®å‰Šé™¤


**ã‚¹ãƒ¬ãƒƒãƒ‰ã®å®Ÿè£…ã‚’åˆ·æ–°**

* å„ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã”ã¨ã®å®Ÿè£…ã‹ã‚‰ã€std::thread ã¸ç§»è¡Œ


**ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®å€¤ã®é †åºã®å¤‰æ›´**

* EXPECT_EQ(expected, actual) ã‹ã‚‰ EXPECTED_EQ(actual, expected) ã¸å¤‰æ›´


**ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®è­˜åˆ¥ãƒã‚¯ãƒ­ã‚’ä¸€èˆ¬ã«ä½¿ã‚ã‚Œã‚‹ã‚‚ã®ã«å¤‰æ›´**

* [Change OS_ANDROID, OS_LINUX, OS_WIN, OS_WASM macros to standard macros. Â· google/mozc@794a853](https://github.com/google/mozc/commit/794a85385d954989465e86b8f26af9b480d22d76)
* ä¾‹: `OS_LINUX` â†’ `__linux__`


**base/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å†æ§‹æˆ**

* base/strings, base/win32 ãªã©ã‚’ä½œæˆ
* [mozc/src/base at master Â· google/mozc](https://github.com/google/mozc/tree/master/src/base)


**C++17 ã«ã‚ã‚ã›ãŸãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**

* new ã‹ã‚‰ std::make_unique ã¸ã®å¤‰æ›´
* uint32 â†’ uint32_t ãªã©ã®æ¨™æº–ã§å®šç¾©ã•ã‚Œã‚‹å‹ã¸ã®å¤‰æ›´
* std::move ã®æ´»ç”¨
* constexpr ã®æ´»ç”¨


## ä»Šå¾Œã®äºˆå®š

* C++20 ã®æ¡ç”¨
* Windows ç”¨ãƒ“ãƒ«ãƒ‰ã® Bazel ã¸ã®ç§»è¡Œ
    * ãã®å¾Œã® GYP ã«ã‚ˆã‚‹ãƒ“ãƒ«ãƒ‰ãƒ«ãƒ¼ãƒ«ã®å‰Šé™¤
* å¤ã„ issues (æœ€çµ‚æ›´æ–°ãŒ 2020-01-01 ä»¥å‰) ã®ã‚¯ãƒ­ãƒ¼ã‚º
    * [Notice: out-of-date issues will be closed on or after 2023-12-01 Â· Issue #800 Â· google/mozc](https://github.com/google/mozc/issues/800)


## ã•ã„ã”ã«

å†…å®¹ã‚’ã¾ã¨ã‚ã‚‹ã«ã‚ãŸã£ã¦ãµã‚Šã‹ãˆã‚ŠãªãŒã‚‰ã€æ•°å¤šãã®æ–¹ã€…ã®ã”å”åŠ›ã‚„å¿œæ´ã‚’ã„ãŸã ã„ã¦ã„ã‚‹ã“ã¨ã‚’ã‚ã‚‰ãŸã‚ã¦å®Ÿæ„Ÿã—ã¾ã—ãŸã€‚ã©ã†ã‚‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚
